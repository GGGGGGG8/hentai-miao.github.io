(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{538:function(t,a,e){"use strict";e.r(a);var s=e(4),n=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("GASP 全称 GreenSock Animation Platform，是一个 JS 的动画框架，用于创建高性能、零依赖、跨浏览器动画GSAP是灵活的，可以与React、Vue、Angular和vanilla JS协同工作。\n")]),t._v(" "),e("p",[t._v("先打开它的官网：https://greensock.com\n"),e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg39htcynpj31gv0h8414.jpg",alt:"image-20200624122307284"}})]),t._v(" "),e("p",[t._v("介绍很简单：适用于现代网络的超高性能、专业级别动画，它有用于前端的 JS 库GASP：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg398hcggtj31ak09f40d.jpg",alt:"image-20200624121407689"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3990e3rlj31cc0jxdig.jpg",alt:"image-20200624121440273"}})]),t._v(" "),e("p",[t._v("这里是它的速度测试链接：https://greensock.com/js/speed.html，可以比较和其他动画的速度。")]),t._v(" "),e("h2",{attrs:{id:"gasp-基本内容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gasp-基本内容","aria-hidden":"true"}},[t._v("#")]),t._v(" GASP 基本内容")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("GASP")]),t._v("：GSAP 是一套兼容主流浏览器的高性能的  HTML5 JS 动画工具：GSAP 的 API 高效而紧凑；")]),t._v(" "),e("li",[e("strong",[t._v("TweenLite")]),t._v("：TweenLite 是整个 GASP 的核心基础，它代码轻量高效，能够根据时间 tween 对任何对象（或者对象数组）的一个一个或多个属性；**它用于创建基本动画，是其他各类模块的基础。**一般都会搭配"),e("code",[t._v("plugins/CSSPlugin")]),t._v("以实现DOM元素的动画（也就是我们最熟悉的动画了）")]),t._v(" "),e("li",[e("strong",[t._v("TimelineLite")]),t._v("：TimelineLite 是一个用来创建和管理 TweenLite, TweenMax, TimelineLite, and/or TimelineMax 的实例的轻量级的，直观的类；你可以把 TimelineLite 看成是一个可以放置 tween 动画的容器；"),e("strong",[t._v("综上，它是一个叫做时间轴的动画容器，它用于对多个动画进行有序的组织与控制。")])]),t._v(" "),e("li",[e("strong",[t._v("TimelineMax")]),t._v("："),e("strong",[t._v("TimeLineMax 是 TimelineLite 的升级版")]),t._v("，在 TimelineLite 的基础之上，可以有更高级的组织与控制。除了和 TimeLite 一致的 API 外，还额外的添加了一些诸如： "),e("code",[t._v("repeat, repeatDelay, yoyo, currentLabel(), tweenTo(), tweenFromTo(), getLabelAfter(), getLabelBefore(), getActive()")]),t._v(" 等方法；")]),t._v(" "),e("li",[e("strong",[t._v("TweenMax")]),t._v("：是GSAP集合包，除前面3个之外，还包括"),e("code",[t._v("plugins")]),t._v("里的常用插件以及"),e("code",[t._v("easing")]),t._v("里的缓动函数补充。TweenMax 扩展了TweenLite ，且添加了许多有用的特性；")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg39w5ac0oj309408ygll.jpg",alt:"GSAP的源文件关系"}})]),t._v(" "),e("p",[t._v("所以，如果想要简单地引入GSAP的主体功能，使用"),e("code",[t._v("TweenMax.js")]),t._v("这一个文件即可，如果要争取更小的库文件大小，应该使用"),e("code",[t._v("TweenLite.js")]),t._v("（必需）+ 其他文件的组合。")]),t._v(" "),e("h2",{attrs:{id:"引用-gasp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#引用-gasp","aria-hidden":"true"}},[t._v("#")]),t._v(" 引用 GASP")]),t._v(" "),e("blockquote",[e("p",[t._v("下载地址："),e("a",{attrs:{href:"https://greensock.com/get-started-js#",target:"_blank",rel:"noopener noreferrer"}},[t._v("greensock.com/get-started…"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("或者")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CDN")]),t._v(" links "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" TweenLite"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CSSPlugin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" and EasePack"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/plugins/CSSPlugin.min.js"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/easing/EasePack.min.js"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenLite.min.js"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CDN")]),t._v(" link "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v("  TweenMax"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("复制代码\n")])])]),e("p",[t._v("如果引用 "),e("code",[t._v("TweenMax")]),t._v(" 这个文件，那就说明你引用了所有功能，因为它包括 "),e("code",[t._v("TweenLite")]),t._v(", "),e("code",[t._v("CSSPlugin")]),t._v(", "),e("code",[t._v("EasePack")]),t._v(", "),e("code",[t._v("TimelineLite")]),t._v(", "),e("code",[t._v("TimelineMax")]),t._v(", "),e("code",[t._v("RoundPropsPlugin")]),t._v(", "),e("code",[t._v("BezierPlugin")]),t._v(", "),e("code",[t._v("AttrPlugin")]),t._v(", "),e("code",[t._v("and DirectionalRotationPlugin")]),t._v("，它是最大体积的。当然你可以只下载引用你想用的文档。")]),t._v(" "),e("h2",{attrs:{id:"快速上手"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#快速上手","aria-hidden":"true"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),e("p",[t._v("参考中文官网："),e("a",{attrs:{href:"https://www.tweenmax.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TweenMax中文网（GreenSock动画平台,GSAP）"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3a66sdghj319e0qljyl.jpg",alt:"image-20200624124633103"}})]),t._v(" "),e("h2",{attrs:{id:"准备代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备代码","aria-hidden":"true"}},[t._v("#")]),t._v(" 准备代码")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("box"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("boxSmall"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("div",{staticClass:"language-css extra-class"},[e("pre",{pre:!0,attrs:{class:"language-css"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #262626"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Open Sans'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sans-serif"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("overflow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hidden"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#box")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #88ce02"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("translate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-50%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" -50%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("z-index")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".boxSmall")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #70a40b"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("bottom")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 25px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 75px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("z-index")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("当然还得引入 GreenSock 文件，这里我们引入的是 "),e("strong",[t._v("TweenMax")]),t._v(" 这个全功能的js文件，为了操作方便我们还需要引入 jquery 来选择和操作 DOM。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js\n")])])]),e("p",[t._v("为了演示方便，使用了 codepen 这个代码平台来运行编写效果：https://codepen.io/janily/pen/xwbpGw")]),t._v(" "),e("p",[t._v("们这里操作的物体是这个 ID 为 box 的盒子。首先把它用一个变量存起来，方便后面来操作。在codepen里的js区域编写下面的代码：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" $box "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#box'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"tweenlite-to-方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tweenlite-to-方法","aria-hidden":"true"}},[t._v("#")]),t._v(" TweenLite.to() 方法")]),t._v(" "),e("p",[t._v("下面就是让它动起来，可以使用 "),e("code",[t._v("TweenLite.to()")]),t._v(" 方法来使元素动起来。比如，让元素移动到浏览器左边的边缘，我们就可以使用 "),e("code",[t._v("TweenLite.to()")]),t._v(" 方法。")]),t._v(" "),e("p",[t._v("下面是 "),e("code",[t._v("TweenLite.to()")]),t._v(" 方法的示意图：")]),t._v(" "),e("p",[t._v(""),e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3acr4a3cj30h504ot9t.jpg",alt:"image-20200624125251863"}})]),t._v(" "),e("p",[t._v("在codepen中加入下面的代码：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("TweenLite.to($box, 0.7, {left: 0});\n")])])]),e("p",[t._v("上面的代码会在0.7秒之内把 "),e("code",[t._v("$box")]),t._v(" 元素从 CSS 中定义的位置移动到 "),e("code",[t._v("body")]),t._v(" 的边缘。如下所示：(鼠标移动到右下角，有一个 return 按钮，点击以下就会重新运行代码，就可以看到效果了)。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3ad99xbdj30hs05smx9.jpg",alt:"image-20200624125321338"}})]),t._v(" "),e("p",[e("a",{attrs:{href:"http://codepen.io/janily/pen/meypPB",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo地址"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("小问题：那就是 "),e("code",[t._v("$box")]),t._v(" 元素只有一半露出来了，应该是全部显示的，这是为什么呢？")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3adq68sgj30ha09xwg9.jpg",alt:"image-20200624125347917"}})]),t._v(" "),e("p",[t._v("因为在CSS中定义了 "),e("code",[t._v("transform: translate(–50%, –50%)")]),t._v("，这时可以通过定义元素的 "),e("code",[t._v("X")]),t._v(" 的值来修正这个小bug。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("TweenLite.to($box, 0.7, {left: 0, x: 0});\n")])])]),e("h2",{attrs:{id:"tweenlite-from方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tweenlite-from方法","aria-hidden":"true"}},[t._v("#")]),t._v(" TweenLite.from方法")]),t._v(" "),e("p",[t._v("下面来看下 "),e("code",[t._v("TweenLite.from")]),t._v(" 这个方法。")]),t._v(" "),e("p",[t._v("在上面的例子上，我们修改代码如下：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tweenLite.from($box, 2, {x: '-=200px', autoAlpha: 0});\n")])])]),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3aeo0g0jj30ha06ddh3.jpg",alt:"image-20200624125442039"}})]),t._v(" "),e("p",[t._v("这个方法是用来使元素从定义在 "),e("code",[t._v(".from()")]),t._v(" 方法里的位置运动到在 CSS 中定义的位置。")]),t._v(" "),e("p",[t._v("运行这个例子，我们会看到元素从元素左边 200px 的位置运动到元素在 CSS 中定义的位置。")]),t._v(" "),e("p",[e("code",[t._v("autoAlpha")]),t._v(" 方法是GSAP中一个特别的属性，它把 "),e("code",[t._v("opacity")]),t._v(" 和 "),e("code",[t._v("visibility")]),t._v(" 两个属性合二为一了。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3ahdc5kaj30h908wmyy.jpg",alt:"image-20200624125717723"}})]),t._v(" "),e("p",[t._v("在代码中 "),e("code",[t._v("autoAlpha: 0")]),t._v(" 表示它会把元素初始化为 "),e("code",[t._v("opacity:0;visibility:hidden")]),t._v("。当执行动画效果的时候它会把 "),e("code",[t._v("visibility")]),t._v(" 的值设置为 "),e("code",[t._v("inherit")]),t._v(" 以及 "),e("code",[t._v("opacity")]),t._v(" 值设置为 1。从而产生一个渐现的效果。")]),t._v(" "),e("h2",{attrs:{id:"tweenlite-set-方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tweenlite-set-方法","aria-hidden":"true"}},[t._v("#")]),t._v(" TweenLite.set() 方法")]),t._v(" "),e("p",[t._v("有时候，我们只是想设置元素的一些 CSS 属性并不需要动画效果，比如，重设元素的位置。")]),t._v(" "),e("p",[t._v("这个时候就可以使用 GreenSock 提供的 "),e("code",[t._v(".set()")]),t._v(" 方法。")]),t._v(" "),e("p",[t._v("去掉我们前面编写的代码除了定义好的$box变量，编写下面的代码：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("TweenLite"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$box"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-=200px'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" scale"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nTweenLite"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$box"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'+=100px'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" scale"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.6")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nTweenLite"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$box"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-50%'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" scale"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3ak8w2bpj30h909uwh4.jpg",alt:"image-20200624130003892"}})]),t._v(" "),e("p",[t._v("运行上面的代码，可以看到元素只是单纯的在改变属性并没有动画效果。")]),t._v(" "),e("p",[t._v("在上面的代码中，我们使用 "),e("code",[t._v("delay")]),t._v(" 这个属性来制定元素属性改变的延迟时间。")]),t._v(" "),e("p",[t._v("要注意一点的是，在最后一个序列中我们重新设置元素的位置为 "),e("code",[t._v("x: '-50%'")]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"tweenlite-fromto-方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tweenlite-fromto-方法","aria-hidden":"true"}},[t._v("#")]),t._v(" TweenLite.fromTo() 方法")]),t._v(" "),e("p",[t._v("最后来说一说 "),e("code",[t._v("TweenLite.fromTo")]),t._v(" 这个方法。")]),t._v(" "),e("p",[t._v("顾名思义，这个方法我们可以定义元素的起始位置：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("TweenLite.fromTo($box, 2, {x: '-=200px'}, {x: 150});\n")])])]),e("p",[t._v("把上面的代码放入到 codepen 中，就可以看到运行的动画效果。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3alj3eoyj30h507kq4q.jpg",alt:"image-20200624130116929"}})]),t._v(" "),e("p",[t._v("我们定义了元素从左边 200px 的位置开始运动到指定的位置。")]),t._v(" "),e("p",[e("code",[t._v("x:150")]),t._v(" 会覆盖在CSS中定义的 "),e("code",[t._v("transform: translate(–50%, –50%)")]),t._v(" 的样式，用新的 "),e("code",[t._v("transform: matrix(1, 0, 0, 1, 150, -50)")]),t._v(" 样式来代替。")]),t._v(" "),e("h2",{attrs:{id:"缓动曲线"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓动曲线","aria-hidden":"true"}},[t._v("#")]),t._v(" 缓动曲线")]),t._v(" "),e("p",[t._v("为了使动画效果更有趣，符合真实的物体运动效果。这个时候缓动曲线函数就派上用场了，GreenSock 也提供了各种的运动曲线。")]),t._v(" "),e("p",[t._v("如果使用的是 TweenMax 的话，它已经包含了 EasePack。")]),t._v(" "),e("p",[t._v("EasePack包含下面的这些运动曲线：")]),t._v(" "),e("p",[t._v("1、Back 2、SlowMo 3、StppedEase 4、RoughEase 5、Bounce 6、Circ 7、Elastic 8、Expo 9、Sine")]),t._v(" "),e("p",[t._v("下面来添加ease:Power4.easeInOut来看看实际的效果。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("TweenLite.fromTo($box, 2, {x: '-=200px'}, {x: 150, ease:Power4.easeInOut});\n")])])]),e("p",[t._v("试着添加下面的代码，看看有什么有趣的效果发生？")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("TweenLite.to($box, 0.4, {top: '100%', y: '-100%', ease:Bounce.easeOut, delay: 2});\nTweenLite.to($box, 0.7, {x: '-=200px', y: '-100%', ease:Back.easeInOut, delay: 3});\nTweenLite.to($box, 0.8, {x: '-=200px', y: '-100%', ease:Back.easeInOut, delay: 4.2});\nTweenLite.to($box, 2.5, {top: '50%', y: '-50%', ease:Power0.easeNone, delay: 5});\nTweenLite.to($box, 2.5, {x: '+=400px', ease:Elastic.easeInOut, delay: 7.7});\nTweenLite.to($box, 2.5, {x: '-=400px', rotation: -720, ease: SlowMo.ease.config(0.1, 0.7, false), delay: 10.4});\n")])])]),e("p",[t._v("具体各种运动曲线的效果可以去这个"),e("a",{attrs:{href:"http://greensock.com/ease-visualizer",target:"_blank",rel:"noopener noreferrer"}},[t._v("地址"),e("OutboundLink")],1),t._v("看看。")]),t._v(" "),e("h2",{attrs:{id:"回调函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#回调函数","aria-hidden":"true"}},[t._v("#")]),t._v(" 回调函数")]),t._v(" "),e("p",[t._v("GreenSock 提供了丰富的回调函数来操作动画效果。")]),t._v(" "),e("p",[t._v("这里以 "),e("code",[t._v(".fromTo()")]),t._v(" 方法来说明它的用法。")]),t._v(" "),e("p",[t._v("比如，我们想要在动画开始的时候来触发回调函数。首先来创建一个start的函数：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'start'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("触发回调函数，只需要添加下面这句代码就可以了 "),e("code",[t._v("onStart:start")]),t._v(" 就可以了，非常简单。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("TweenLite.fromTo($box, 2, {x: '-=200px'}, {x: 150, ease:Power4.easeInOut, onStart: start});\n")])])]),e("p",[t._v("打开开发者工具，就可以看到输出的相关信息。")]),t._v(" "),e("p",[t._v("你也可以添加 "),e("code",[t._v("onUpdate")]),t._v(" 和 "),e("code",[t._v("onComplete")]),t._v(" 来触发对应的回调函数：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'start'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'animating'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("complete")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'end'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("![image-20200624130402852](/Users/xu/Library/Application Support/typora-user-images/image-20200624130402852.png)")]),t._v(" "),e("p",[t._v("onUpdate会在动画的每一帧触发；onComplete会在动画结束的时候触发。")]),t._v(" "),e("p",[t._v("看看最后的效果。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tva1.sinaimg.cn/large/007S8ZIlgy1gg3arj7ielj30mr076t8s.jpg",alt:"image-20200624130702615"}})]),t._v(" "),e("p",[e("a",{attrs:{href:"http://codepen.io/janily/pen/ZbYvVQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo地址"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("最后再来一些好的 tips：")]),t._v(" "),e("p",[t._v("1、任何的 CSS 属性需要变为驼峰式的写法。比如 "),e("code",[t._v("background-color")]),t._v(" 修改为 "),e("code",[t._v("backgroundColor")])]),t._v(" "),e("p",[t._v("2、CSS 中的 "),e("code",[t._v("transform:rotate()")]),t._v(" 变为 "),e("code",[t._v("rotation")])]),t._v(" "),e("p",[t._v("3、另外在 GSAP 中的 2Dtransform－scaleX, scaleY, scale, skewX, skewY,x, y, xPercent, 和 yPercent 的使用方法可以去"),e("a",{attrs:{href:"https://www.youtube.com/watch?v=J5twQLXJ-vQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个视频"),e("OutboundLink")],1),t._v("看看。")]),t._v(" "),e("p",[t._v("4、如果使用SublimeText来作为开发工具，可以下载"),e("a",{attrs:{href:"http://greensock.com/forums/topic/11071-sublimetext-snippets/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GSAP这个代码片段"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("5、如果你使用JSHint和JSLint作为代码质量检测工具，可以去这看看它在GSAP中的"),e("a",{attrs:{href:"http://greensock.com/forums/topic/11369-gsap-globals-for-jshint/",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用方法"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("遇到问题随时查看GreenSock的"),e("a",{attrs:{href:"http://greensock.com/docs/#/HTML5/GSAP/TweenLite/",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"动画保存及控制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动画保存及控制","aria-hidden":"true"}},[t._v("#")]),t._v(" 动画保存及控制")]),t._v(" "),e("p",[t._v("和"),e("code",[t._v("jQuery.animate()")]),t._v("的风格不同，GSAP以动画为主体，你可以这样保存动画：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('var tween = TweenLite.to("#ball1", 2, {\n  x: "+=200px"\n});\n')])])]),e("p",[t._v("然后你可以做精细的控制：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 暂停\ntween.pause();\n\n// 继续播放\ntween.resume();\n\n// 反转播放\ntween.reverse();\n\n// 跳转到1s进度处开始播放\ntween.seek(1);\n\n// 重播\ntween.restart();\n\n// 动画变为三倍速\ntween.timeScale(3);\n")])])]),e("p",[t._v("这些可以看做GSAP作为专业动画库的体现。")]),t._v(" "),e("h2",{attrs:{id:"选择器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#选择器","aria-hidden":"true"}},[t._v("#")]),t._v(" 选择器")]),t._v(" "),e("p",[t._v("前面的例子中反复用到了类似jQuery的选择器，但GSAP并没有自带选择器，相关源码如下：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('TweenLite.selector = window.$ || window.jQuery || function(e) {\n    var selector = window.$ || window.jQuery;\n    if (selector) {\n        TweenLite.selector = selector;\n        return selector(e);\n    }\n    return (typeof(document) === "undefined") ? e \n    : (document.querySelectorAll ? document.querySelectorAll(e) \n        : document.getElementById((e.charAt(0) === "#") ? e.substr(1) \n            : e));\n};\n')])])]),e("p",[t._v("GSAP不依赖jQuery，但如果引入了jQuery，GSAP会使用jQuery的选择器，否则回退到"),e("code",[t._v("document.querySelectorAll()")]),t._v("及"),e("code",[t._v("document.getElementById()")]),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"timelinelite的动画管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#timelinelite的动画管理","aria-hidden":"true"}},[t._v("#")]),t._v(" TimelineLite的动画管理")]),t._v(" "),e("p",[t._v("好像"),e("code",[t._v("TweenLite")]),t._v(" + "),e("code",[t._v("css plugin")]),t._v("就已经足够用了，这个Timeline系列是做什么的呢？")]),t._v(" "),e("p",[t._v("想象你是一个动画的导演，你要按剧本安排演员在一个CUT里依次上场和退场。在前文的例子里，我们只有一个演员（"),e("code",[t._v("#ball1")]),t._v("），但现在，我们要拍一个有20+演员的动画大片，要怎么办呢？")]),t._v(" "),e("p",[t._v("你也许曾用css3的"),e("code",[t._v("animation")]),t._v("做过类似的事情，做法是，当转换到一个场景（CUT）后，为场景里的所有演员依次设定适当的"),e("code",[t._v("delay")]),t._v("。只要"),e("code",[t._v("delay")]),t._v("计划好，看起来就是漂亮精彩的大片。")]),t._v(" "),e("p",[t._v("不过，这可没有那么简单，假如你已经安排好了20位演员的上场时间，现在改了下剧本，来了第21位演员要在最开始上场，你会发现你可能要依次调整在它之后的所有演员的"),e("code",[t._v("delay")]),t._v("...")]),t._v(" "),e("p",[t._v("GSAP的TweenLite也会有同样的问题，因此，我们需要有一个工具来统一管理多个元素的多个动画，这就是TimelineLite。")]),t._v(" "),e("h3",{attrs:{id:"时间轴"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#时间轴","aria-hidden":"true"}},[t._v("#")]),t._v(" 时间轴")]),t._v(" "),e("p",[t._v("如果你做过视频编辑，你一定很熟悉“时间轴”这个概念。简单来说，每一个元素的单次动画都是一段素材，我们需要把它们分别放置到同一个时间轴的适当位置，才能集合在一起得到有序的动画大片。")]),t._v(" "),e("p",[t._v("现在我们引入"),e("code",[t._v("TimelineLite")]),t._v("。下面是一个例子：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('var tl = new TimelineLite();\ntl.from("#ball1", 1, {\n    y: "-=60px",\n    autoAlpha: 0\n}).from("#ball2", 1, {\n    x: "+=60px",\n    autoAlpha: 0\n}).from("#ball3", 1, {\n    y: "+=60px",\n    autoAlpha: 0\n}).from("#ball4", 1, {\n    x: "-=60px",\n    autoAlpha: 0\n});\n')])])]),e("p",[t._v("效果是：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://segmentfault.com/img/bVwF9e",alt:"TimelineLite顺序动画"}})]),t._v(" "),e("p",[t._v("以上的"),e("code",[t._v("tl.from()")]),t._v("等同于以下代码：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('tl.add(TweenLite.from("#ball1", 1, {\n    y: "-=60px",\n    autoAlpha: 0\n}));\n')])])]),e("p",[t._v("可见，TimelineLite像一个容器，它可以通过"),e("code",[t._v("add()")]),t._v("方法将TweenLite动画添加到自己的时间轴上。然后，动画将以时间轴为整体，进行播放。")]),t._v(" "),e("p",[t._v("在默认情况下，TimelineLite会这样按添加顺序依次排列它们的位置，就这样，我们不借助"),e("code",[t._v("delay")]),t._v("做出了这种较复杂的动画组合。")]),t._v(" "),e("p",[t._v("如果画一下这里的时间轴，是这样的：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://segmentfault.com/img/bVwF9g",alt:"时间轴图示 - 顺序动画"}})]),t._v(" "),e("h3",{attrs:{id:"调整放置位置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调整放置位置","aria-hidden":"true"}},[t._v("#")]),t._v(" 调整放置位置")]),t._v(" "),e("p",[t._v("如果要让第2个动画不是在第1个刚结束时播放，而是更提前一点，看起来更连贯的话？")]),t._v(" "),e("p",[t._v("这样做：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('var tl = new TimelineLite();\ntl.from("#ball1", 1, {\n    y: "-=60px",\n    autoAlpha: 0\n}).from("#ball2", 1, {\n    x: "+=60px",\n    autoAlpha: 0\n}, "-=0.7").from("#ball3", 1, {\n    y: "+=60px",\n    autoAlpha: 0\n}, "-=0.7").from("#ball4", 1, {\n    x: "-=60px",\n    autoAlpha: 0\n}, "-=0.7");\n')])])]),e("p",[t._v("其中"),e("code",[t._v("tl.from(target, duration, vars, position)")]),t._v("等同于"),e("code",[t._v("tl.add(TweenLite.from(target, duration, vars), position);")]),t._v("，这里的"),e("code",[t._v("position")]),t._v("参数指定动画在时间轴上的位置，默认为"),e("code",[t._v("+=0")]),t._v("也就是取前一个动画的结束点。以上的"),e("code",[t._v("-=0.7")]),t._v("就是相对这个位置再提前0.7s，这样就让动画互相之间有了重叠，看起来更连贯流畅一些。")]),t._v(" "),e("p",[t._v("效果：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://segmentfault.com/img/bVwF9i",alt:"TimelineLite调整动画"}})]),t._v(" "),e("p",[t._v("时间轴像这样：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://segmentfault.com/img/bVwF9j",alt:"时间轴图示 - 调整动画"}})]),t._v(" "),e("h3",{attrs:{id:"时间轴控制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#时间轴控制","aria-hidden":"true"}},[t._v("#")]),t._v(" 时间轴控制")]),t._v(" "),e("p",[t._v("把多个动画装进时间轴的重要作用是，可以当做一个整体进行控制和调整。时间轴的这些方法类似TweenLite：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 在1s时间进度位置暂停\ntl.pause(1);\n\n// ... （和前面tween一样）\n\n// 跳转到50%进度处\ntl.progess(0.5);\n")])])]),e("h3",{attrs:{id:"相同动画的简便方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#相同动画的简便方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 相同动画的简便方法")]),t._v(" "),e("p",[t._v("如果多个元素的动画是一样的，而且它们需要有规律地安排在时间轴的不同位置，那么非常适合用"),e("code",[t._v("staggerFrom()")]),t._v("、"),e("code",[t._v("staggerTo()")]),t._v("及"),e("code",[t._v("staggerFromTo()")]),t._v("。例如：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('tl.staggerFrom(["#ball1", "#ball2", "#ball3", "#ball4", ], 1, {\n    scale: "-=0.5",\n    autoAlpha: 0\n}, 2);\n')])])]),e("p",[t._v("这样使用数组，就可以同时选中多个元素。")]),t._v(" "),e("p",[t._v("效果是：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://segmentfault.com/img/bVwF9n",alt:"间隔规律动画"}})]),t._v(" "),e("p",[t._v("可以看到，每一个元素按照顺序依次执行动画，间隔2s。")]),t._v(" "),e("h2",{attrs:{id:"timelinemax和tweenmax"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#timelinemax和tweenmax","aria-hidden":"true"}},[t._v("#")]),t._v(" TimelineMax和TweenMax")]),t._v(" "),e("p",[t._v("如果你觉得还需要一些动画和时间轴的更高级功能（如同一动画间隔重复），可以选择TimelineMax和TweenMax。它们并不需要更多的学习成本，如字面意思所示，TweenMax是TweenLite的升级版，拥有其全部特性，只是增加了一些额外的高级控制。它们的语法完全一致，你可以试试用全局搜索把所有TweenLite替换成TweenMax，不会有任何影响。TimelineMax和TimelineLite的关系也是如此。")]),t._v(" "),e("h2",{attrs:{id:"补充信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#补充信息","aria-hidden":"true"}},[t._v("#")]),t._v(" 补充信息")]),t._v(" "),e("h3",{attrs:{id:"浏览器兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器兼容性","aria-hidden":"true"}},[t._v("#")]),t._v(" 浏览器兼容性")]),t._v(" "),e("p",[t._v("可以到IE6（使用jQuery1.x的选择器）。")]),t._v(" "),e("p",[t._v("另外，不要期望在不支持的浏览器上做3d transform动画。")]),t._v(" "),e("h3",{attrs:{id:"指定默认缓动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#指定默认缓动","aria-hidden":"true"}},[t._v("#")]),t._v(" 指定默认缓动")]),t._v(" "),e("p",[t._v("如果你大部分动画都使用同一种缓动函数，那么用"),e("code",[t._v("TweenLite.defaultEase")]),t._v("会很方便，比如修改为"),e("code",[t._v("Expo.easeOut")]),t._v("：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("TweenLite.defaultEase = Expo.easeOut;\n")])])]),e("h3",{attrs:{id:"动画结束后清空style属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动画结束后清空style属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 动画结束后清空style属性")]),t._v(" "),e("p",[t._v("默认情况下，执行过动画的元素会留下"),e("code",[t._v("style")]),t._v("的内联样式，如果你担心这可能造成额外影响，可以设定"),e("code",[t._v("clearProps")]),t._v("参数清空它：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('TweenLite.to("#ball1", 2, {\n    x: 200,\n    clearProps: "all",\n    autoAlpha: 0\n});\n')])])]),e("p",[t._v("如果只需要清理个别样式，单独写出来即可，如"),e("code",[t._v('clearProps: "opacity"')]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"autoalpha的作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#autoalpha的作用","aria-hidden":"true"}},[t._v("#")]),t._v(" autoAlpha的作用")]),t._v(" "),e("p",[t._v("前文反复用到的"),e("code",[t._v("autoAlpha")]),t._v("并不是css属性，而是GSAP给定的一个特殊属性。"),e("code",[t._v("autoAlpha")]),t._v("是"),e("code",[t._v("opacity")]),t._v("和"),e("code",[t._v("visibility")]),t._v("这2个css属性的结合。")]),t._v(" "),e("p",[t._v("为什么要结合起来呢？一般来说，"),e("code",[t._v("opacity")]),t._v("为"),e("code",[t._v("0")]),t._v("的不可见元素，我们会认为它也是不可交互的（比如"),e("code",[t._v("onclick")]),t._v("不触发），因此附加"),e("code",[t._v("visibility: hidden")]),t._v("可以保证这一点。GSAP会正确处理动画过程中这2个css属性的变化。")]),t._v(" "),e("h3",{attrs:{id:"备忘单"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#备忘单","aria-hidden":"true"}},[t._v("#")]),t._v(" 备忘单")]),t._v(" "),e("p",[t._v("GSAP有一份包含丰富参考代码的"),e("a",{attrs:{href:"https://ihatetomatoes.net/greensock-cheat-sheet/",target:"_blank",rel:"noopener noreferrer"}},[t._v("备忘单"),e("OutboundLink")],1),t._v("（Cheat Sheet），可以帮助你节约时间。")]),t._v(" "),e("h2",{attrs:{id:"结语"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结语","aria-hidden":"true"}},[t._v("#")]),t._v(" 结语")]),t._v(" "),e("p",[t._v("GSAP里的很多概念和API设计可以追溯到flash时代。虽然flash在今天已经很少被使用，但“flash动画”一词能够深入人心是有它的原因的。")]),t._v(" "),e("p",[t._v("GSAP是专业动画库，在大部分情况下，它也具备更好的动画性能。如果你打算在网页里制作一个动画大片，那你现在应该知道什么可以帮助你了 😃 。")]),t._v(" "),e("h2",{attrs:{id:"参考文章"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文章","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),e("p",[t._v("文章来自于"),e("a",{attrs:{href:"https://ihatetomatoes.net/simple-greensock-tutorial-your-first-steps-with-gsap/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Simple GreenSock Tutorial – Your first steps with GSAP"),e("OutboundLink")],1),t._v(" + http://acgtofe.com/posts/2016/05/gsap-for-animation-pro")]),t._v(" "),e("p",[t._v("另外推荐一些有用的学习资源：")]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://greensock.com/jump-start-js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jump Start: GSAP JS"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"http://greensock.com/get-started-js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Getting Started Guide"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"http://greensock.com/forums/forum/11-gsap/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GSAP Forum"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://nobledesktop.com/classes/greensock",target:"_blank",rel:"noopener noreferrer"}},[t._v("GreenSock course at Noble Desktop in New York"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://nobledesktop.com/books/gsap",target:"_blank",rel:"noopener noreferrer"}},[t._v("GreenSock course workbook"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://ihatetomatoes.net/product/greensock-workshop/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GreenSock Workshop"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://juejin.im/entry/591a600f128fe1005cdae46f",target:"_blank",rel:"noopener noreferrer"}},[t._v("GreenSock (TweenMax) 简单入门教程"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://juejin.im/post/58d4f52544d9040068659edd",target:"_blank",rel:"noopener noreferrer"}},[t._v("[动画]快速入手 GSAP"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000005366176",target:"_blank",rel:"noopener noreferrer"}},[t._v("GSAP - 专业的 Web 动画库"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/74465798",target:"_blank",rel:"noopener noreferrer"}},[t._v("GreenSocks Animation Platform详细工作机制"),e("OutboundLink")],1)])])])])},[],!1,null,null,null);a.default=n.exports}}]);